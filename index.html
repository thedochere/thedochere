<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unofficial Gazette PRP 2025</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background-color: #f0f2f5; color: #333; }
        .container { max-width: 1000px; margin: 20px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #1a73e8; margin-bottom: 30px; }
        
        .merit-summary { display: flex; justify-content: space-around; margin-bottom: 30px; gap: 15px; }
        .merit-card { flex: 1; padding: 20px; border-radius: 10px; text-align: center; color: white; }
        .highest { background: linear-gradient(135deg, #28a745, #1e7e34); }
        .lowest { background: linear-gradient(135deg, #dc3545, #a71d2a); }
        .merit-card h3 { margin: 0; font-size: 0.9rem; text-transform: uppercase; opacity: 0.9; }
        .merit-card div { font-size: 1.8rem; font-weight: bold; margin-top: 5px; }

        #searchBar { width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; margin-bottom: 20px; box-sizing: border-box; outline: none; transition: border-color 0.3s; }
        #searchBar:focus { border-color: #1a73e8; }

        .table-wrapper { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { background-color: #f8f9fa; color: #5f6368; font-weight: 600; text-align: left; padding: 12px; border-bottom: 2px solid #dee2e6; }
        td { padding: 12px; border-bottom: 1px solid #eee; font-size: 0.95rem; }
        tr:hover { background-color: #f1f8ff; }
        .no-results { display: none; text-align: center; padding: 20px; color: #777; }
    </style>
</head>
<body>

<div class="container">
    <h1>Unofficial Gazette PRP 2025</h1>

    <div class="merit-summary">
        <div class="merit-card highest">
            <h3>Highest Merit</h3>
            <div id="highVal">21.00</div>
        </div>
        <div class="merit-card lowest">
            <h3>Lowest Merit</h3>
            <div id="lowVal">5.00</div>
        </div>
    </div>

    <input type="text" id="searchBar" onkeyup="filterTable()" placeholder="Search for candidate name...">

    <div class="table-wrapper">
        <table id="gazetteTable">
            <thead>
                <tr>
                    <th>Applicant ID</th>
                    <th>PMDC Number</th>
                    <th>Name</th>
                    <th>MDCAT</th>
                    <th>Experience</th>
                    <th>Total Aggregate</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                </tbody>
        </table>
        <div id="noResults" class="no-results">No candidates found matching that name.</div>
    </div>
</div>

<script>
    // Processed data from your file (Sorted by Aggregate)
    const data = [
        {"id":"13480","pmdc":"74419-P","name":"Maheen Safdar D/O Muhammad Rafique Safdar","mdcat":"1.701818","exp":"5","total":21.00},
        {"id":"16868","pmdc":"97641-p","name":"Farheen Tariq D/O M.Tariq","mdcat":"1.658182","exp":"5","total":21.00},
        {"id":"37606","pmdc":"947200-01- M","name":"Muhammad Ahmad Karim S/O Fazal Karim","mdcat":"1.892727","exp":"5","total":18.00},
        {"id":"1356","pmdc":"97518-P","name":"Moniba Iqbal D/ O Sh Muhammad Iqbal","mdcat":"1.794545","exp":"0","total":18.00},
        {"id":"15185","pmdc":"97571_p","name":"Mahrukh Mahmood D/O Abid Mehmood","mdcat":"1.723636","exp":"0","total":18.00},
        {"id":"37602","pmdc":"910118-01- M","name":"Abdul Ahad S/O Ghulam Muhammad","mdcat":"1.858182","exp":"0","total":17.00},
        {"id":"37607","pmdc":"905274-01- M","name":"Minahil Fatima D/O MUHAMMAD YASEEN BADAR","mdcat":"0","exp":"0","total":15.00},
        {"id":"16104","pmdc":"102307-p","name":"Samana Bano D/O Manzoor Hussain","mdcat":"1.747273","exp":"0","total":14.00},
        {"id":"37615","pmdc":"942978-01- M","name":"Saqlain Abbas S/O Ghulam Abbas","mdcat":"0","exp":"0","total":5.00}
    ];

    function loadTable() {
        const tbody = document.getElementById('tableBody');
        tbody.innerHTML = data.map(row => `
            <tr>
                <td>${row.id}</td>
                <td>${row.pmdc}</td>
                <td>${row.name}</td>
                <td>${row.mdcat}</td>
                <td>${row.exp}</td>
                <td><strong>${row.total.toFixed(2)}</strong></td>
            </tr>
        `).join('');

        // Set Merit Stats based on the sorted array
        if(data.length > 0) {
            document.getElementById('highVal').innerText = data[0].total.toFixed(2);
            document.getElementById('lowVal').innerText = data[data.length - 1].total.toFixed(2);
        }
    }

    function filterTable() {
        const input = document.getElementById('searchBar').value.toLowerCase();
        const rows = document.getElementById('tableBody').getElementsByTagName('tr');
        let found = false;

        for (let i = 0; i < rows.length; i++) {
            const nameCol = rows[i].getElementsByTagName('td')[2];
            if (nameCol) {
                const txtValue = nameCol.textContent || nameCol.innerText;
                if (txtValue.toLowerCase().indexOf(input) > -1) {
                    rows[i].style.display = "";
                    found = true;
                } else {
                    rows[i].style.display = "none";
                }
            }
        }
        document.getElementById('noResults').style.display = found ? "none" : "block";
    }

    window.onload = loadTable;
</script>

</body>
</html>
